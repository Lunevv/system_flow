# üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### **1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É:**
- ‚úÖ Node.js 16+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 18+)
- ‚úÖ npm –∏–ª–∏ yarn
- ‚úÖ Git (–¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- ‚úÖ PM2 (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- ‚úÖ Nginx –∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (–¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è) - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### **2. –ü–æ—Ä—Ç—ã:**
- **3000** - Frontend (React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- **3001** - Backend API (Proxy —Å–µ—Ä–≤–µ—Ä)

---

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**

```bash
# –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É (–µ—Å–ª–∏ Linux)
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Node.js (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏–∏
node --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 16+
npm --version
```

### **–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

PM2 –ø–æ–∑–≤–æ–ª–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏ —Å–±–æ—è—Ö –∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º PM2 –≥–ª–æ–±–∞–ª—å–Ω–æ
sudo npm install -g pm2

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
pm2 --version
```

### **–®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä**

#### **–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p ~/projects
cd ~/projects

# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π-url> esp-server-manager
cd esp-server-manager

# –ò–ª–∏ –µ—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–µ—Ç, —Å–æ–∑–¥–∞–µ–º –µ–≥–æ:
git init
git add .
git commit -m "Initial commit"
```

#### **–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ SCP/SFTP (–µ—Å–ª–∏ –Ω–µ—Ç Git)**

```bash
# –ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
scp -r /Users/lv/Downloads/system-flow\ v4.0\ ‚Äî\ –∫–æ–ø–∏—è\ 5/* user@your-server:/home/user/projects/esp-server-manager/
```

### **–®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

```bash
cd ~/projects/esp-server-manager
npm install
```

### **–®–∞–≥ 5: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**

```bash
# –°–æ–±–∏—Ä–∞–µ–º React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run build
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É `dist/` —Å –≥–æ—Ç–æ–≤—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

### **–®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å –ø—Ä–æ–∫—Å–∏**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `ecosystem.config.js` –¥–ª—è PM2:

```javascript
module.exports = {
  apps: [
    {
      name: 'esp-frontend',
      script: 'npx',
      args: 'vite preview --port 3000 --host 0.0.0.0',
      cwd: '/home/user/projects/esp-server-manager',
      instances: 1,
      autorestart: true,
      watch: false,
      max_memory_restart: '1G',
      env: {
        NODE_ENV: 'production'
      }
    },
    {
      name: 'esp-proxy',
      script: 'proxy-server.js',
      cwd: '/home/user/projects/esp-server-manager',
      instances: 1,
      autorestart: true,
      watch: false,
      max_memory_restart: '1G',
      env: {
        NODE_ENV: 'production',
        PORT: 3001
      }
    }
  ]
};
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `/home/user/projects/esp-server-manager` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É!

### **–®–∞–≥ 7: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ PM2**

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
pm2 start ecosystem.config.js

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs

# –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
pm2 save
pm2 startup
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã–≤–µ–¥–µ—Ç pm2 startup
```

### **–®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**

#### **–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ cron (–ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)**

```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º crontab
crontab -e

# –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ 6:00 —É—Ç—Ä–∞
0 6 * * * cd /home/user/projects/esp-server-manager && /usr/bin/node manage-data.js update >> /home/user/projects/esp-server-manager/daily-update.log 2>&1

# –ò –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è BI –∫—ç—à–∞ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤)
0 7 * * * cd /home/user/projects/esp-server-manager && /usr/bin/node fetch-bi-data.js --force >> /home/user/projects/esp-server-manager/bi-update.log 2>&1
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ!

#### **–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ PM2 cron (–±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ)**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `pm2-cron.js`:

```javascript
const cron = require('node-cron');
const { spawn } = require('child_process');

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 6:00
cron.schedule('0 6 * * *', () => {
  console.log('üîÑ –ó–∞–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...');
  const child = spawn('node', ['manage-data.js', 'update'], {
    cwd: '/home/user/projects/esp-server-manager',
    stdio: 'inherit'
  });
  
  child.on('close', (code) => {
    console.log(`‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —Å –∫–æ–¥–æ–º ${code}`);
  });
}, {
  timezone: "Europe/Moscow"
});

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ BI –∫—ç—à–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 7:00
cron.schedule('0 7 * * *', () => {
  console.log('üîÑ –ó–∞–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è BI –∫—ç—à–∞...');
  const child = spawn('node', ['fetch-bi-data.js', '--force'], {
    cwd: '/home/user/projects/esp-server-manager',
    stdio: 'inherit'
  });
  
  child.on('close', (code) => {
    console.log(`‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ BI –∫—ç—à–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —Å –∫–æ–¥–æ–º ${code}`);
  });
}, {
  timezone: "Europe/Moscow"
});

console.log('‚úÖ Cron –∑–∞–¥–∞—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã');
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `ecosystem.config.js`:

```javascript
{
  name: 'esp-cron',
  script: 'pm2-cron.js',
  cwd: '/home/user/projects/esp-server-manager',
  instances: 1,
  autorestart: true,
  watch: false
}
```

### **–®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω –∏ HTTPS:

```nginx
# /etc/nginx/sites-available/esp-server-manager
server {
    listen 80;
    server_name your-domain.com;

    # Frontend
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # Backend API
    location /api/ {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
sudo ln -s /etc/nginx/sites-available/esp-server-manager /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ PM2:**

```bash
pm2 status
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã:
- `esp-frontend` (–ø–æ—Ä—Ç 3000)
- `esp-proxy` (–ø–æ—Ä—Ç 3001)
- `esp-cron` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PM2 cron)

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:**

```bash
# Frontend
curl http://localhost:3000

# Backend API
curl http://localhost:3001/api/cached-stats
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:**

```bash
# –í—Å–µ –ª–æ–≥–∏
pm2 logs

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
pm2 logs esp-proxy
pm2 logs esp-frontend

# –õ–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
tail -f daily-update.log
tail -f bi-update.log
```

### **4. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
cd ~/projects/esp-server-manager
node manage-data.js update

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ BI –∫—ç—à–∞
node fetch-bi-data.js --force
```

---

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º

### **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**

```bash
pm2 stop all
# –∏–ª–∏
pm2 stop esp-frontend esp-proxy
```

### **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:**

```bash
pm2 restart all
# –∏–ª–∏
pm2 restart esp-frontend esp-proxy
```

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:**

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Git
cd ~/projects/esp-server-manager
git pull
npm install
npm run build
pm2 restart all

# –ï—Å–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ –≤—Ä—É—á–Ω—É—é
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: pm2 stop all
# 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
# 3. npm install (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
# 4. npm run build
# 5. pm2 start all
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **1. Firewall (UFW –Ω–∞ Ubuntu):**

```bash
# –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp    # HTTP (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Nginx)
sudo ufw allow 443/tcp   # HTTPS (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Nginx)
sudo ufw enable
```

### **2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –¥–ª—è —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```bash
# .env
METABASE_API_KEY=your-api-key-here
NODE_ENV=production
```

–ò –æ–±–Ω–æ–≤–∏—Ç–µ `ecosystem.config.js`:

```javascript
env_file: '.env'
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **PM2 Monitoring:**

```bash
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
pm2 install pm2-server-monit
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:**

```bash
pm2 monit
```

---

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### **–ü—Ä–æ–µ–∫—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã: `netstat -tulpn | grep -E '3000|3001'`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `node --version`

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f daily-update.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cron: `crontab -l`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Metabase API
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã

### **–ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã:**

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
sudo lsof -i :3000
sudo lsof -i :3001

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
sudo kill -9 <PID>
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–≤–µ—Ä—Å–∏—è 16+)
- [ ] PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ü—Ä–æ–µ–∫—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`npm install`)
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω (`npm run build`)
- [ ] `ecosystem.config.js` —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2
- [ ] PM2 —Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ (`pm2 save`)
- [ ] Cron –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- [ ] –ü–æ—Ä—Ç—ã 3000 –∏ 3001 –¥–æ—Å—Ç—É–ø–Ω—ã
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [ ] –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–æ—Ç–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞
- **–ü–æ—Ä—Ç—ã:** –ï—Å–ª–∏ –ø–æ—Ä—Ç—ã 3000/3001 –∑–∞–Ω—è—Ç—ã, –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Ö –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **–ü–∞–º—è—Ç—å:** –ü—Ä–æ–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º—É–º 512MB RAM, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1GB+
- **–î–∏—Å–∫:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å –º–µ—Å—Ç–æ –¥–ª—è –ª–æ–≥–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```
~/projects/esp-server-manager/
‚îú‚îÄ‚îÄ dist/                    # –°–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ node_modules/            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ ecosystem.config.js      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PM2
‚îú‚îÄ‚îÄ pm2-cron.js             # Cron –∑–∞–¥–∞—á–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
‚îú‚îÄ‚îÄ proxy-server.js         # Proxy —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ manage-data.js          # –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ fetch-bi-data.js       # –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è BI
‚îú‚îÄ‚îÄ cached_stats.csv        # –ö—ç—à —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ daily-update.log        # –õ–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îî‚îÄ‚îÄ bi-update.log          # –õ–æ–≥–∏ BI –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```

---

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö! üéâ

